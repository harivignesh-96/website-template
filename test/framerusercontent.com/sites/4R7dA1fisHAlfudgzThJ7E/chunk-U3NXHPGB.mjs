import{J as Q,V as _,X as t,_ as X,ba as F,i as J,k as V,m as p,p as h,r as b,s as T,v as O,y as L}from"./chunk-YIWRXJRL.mjs";import{b as r}from"./chunk-ELYU6EKT.mjs";var ee={position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},he={...ee,borderRadius:6,background:"rgba(136, 85, 255, 0.3)",color:"#85F",border:"1px dashed #85F",flexDirection:"column"},z={onClick:{type:t.EventHandler},onMouseEnter:{type:t.EventHandler},onMouseLeave:{type:t.EventHandler}},Ce={type:t.Number,title:"Font Size",min:2,max:200,step:1,displayStepper:!0},be={font:{type:t.Boolean,title:"Font",defaultValue:!1,disabledTitle:"Default",enabledTitle:"Custom"},fontFamily:{type:t.String,title:"Family",placeholder:"Inter",hidden:({font:e})=>!e},fontWeight:{type:t.Enum,title:"Weight",options:[100,200,300,400,500,600,700,800,900],optionTitles:["Thin","Extra-light","Light","Regular","Medium","Semi-bold","Bold","Extra-bold","Black"],hidden:({font:e})=>!e}};function U(e,n){return te(!0,e,n)}function N(e,n){return te(!1,e,n)}function te(e,n,i=!0){let u=F();p(()=>{i&&u===e&&n()},[u])}var Se=()=>{if(typeof r<"u"){let e=r.userAgent.toLowerCase();return(e.indexOf("safari")>-1||e.indexOf("framermobile")>-1||e.indexOf("framerx")>-1)&&e.indexOf("chrome")<0}else return!1},$=()=>h(()=>Se(),[]);function j(){return h(()=>_.current()===_.canvas,[])}function H(e){let{borderRadius:n,isMixedBorderRadius:i,topLeftRadius:u,topRightRadius:f,bottomRightRadius:d,bottomLeftRadius:c}=e;return h(()=>i?`${u}px ${f}px ${d}px ${c}px`:`${n}px`,[n,i,u,f,d,c])}var K={borderRadius:{title:"Radius",type:t.FusedNumber,toggleKey:"isMixedBorderRadius",toggleTitles:["Radius","Radius per corner"],valueKeys:["topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius"],valueLabels:["TL","TR","BR","BL"],min:0}};var Te={padding:{type:t.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0,title:"Padding"}};var re;(function(e){e.Fill="fill",e.Contain="contain",e.Cover="cover",e.None="none",e.ScaleDown="scale-down"})(re||(re={}));var oe;(function(e){e.Video="Upload",e.Url="URL"})(oe||(oe={}));function Me(e){let{width:n,height:i,topLeft:u,topRight:f,bottomRight:d,bottomLeft:c,id:g,children:C,...s}=e;return s}function D(e){let n=Me(e);return O(Re,{...n})}function _e(e){let n=F(),i=b(!1),u=V(c=>{if(!e.current)return;let g=(c===1?.999:c)*e.current.duration,C=Math.abs(e.current.currentTime-g)<.1;e.current.duration>0&&!C&&(e.current.currentTime=g)},[]),f=V(()=>{!(e.current.currentTime>0&&e.current.onplaying&&!e.current.paused&&!e.current.ended&&e.current.readyState>e.current.HAVE_CURRENT_DATA)&&e.current&&!i.current&&n&&(i.current=!0,e.current.play().catch(g=>{}).finally(()=>i.current=!1))},[]),d=V(()=>{!e.current||i.current||e.current.pause()},[]);return{play:f,pause:d,setProgress:u}}function Fe({playingProp:e,muted:n,loop:i,playsinline:u,controls:f}){let[d]=T(()=>e),[c,g]=T(!1);e!==d&&!c&&g(!0);let C=d&&n&&i&&u&&!f&&!c,s;return C?s="on-viewport":d?s="on-mount":s="no-autoplay",s}var ae=!1,Re=J(function(n){let{srcType:i,srcFile:u,srcUrl:f,playing:d,muted:c,playsinline:g,controls:C,progress:s,objectFit:se,backgroundColor:le,onSeeked:R,onPause:k,onPlay:E,onEnd:P,onClick:G,onMouseEnter:ue,onMouseLeave:ce,onMouseDown:pe,onMouseUp:de,poster:me,posterEnabled:W,startTime:q,volume:M,loop:A}=n,m=b(),fe=$(),w=b(null),Y=b(null),S=j(),ge=H(n),v=S?"no-autoplay":Fe({playingProp:d,muted:c,loop:A,playsinline:g,controls:C}),Z=S?!0:Q(m),y=q===100?99.9:q,{play:x,pause:I,setProgress:B}=_e(m);p(()=>{S||(d?x():I())},[d]),p(()=>{S||v==="on-viewport"&&(Z?x():I())},[v,Z]),p(()=>{if(!ae){ae=!0;return}let l=L(s)?s.get():(s??0)*.01;B((l??0)||(y??0)/100)},[y,u,f,s]),p(()=>{if(L(s))return s.on("change",l=>B(l))},[s]),U(()=>{w.current!==null&&m.current&&(!Y&&A||!w.current)&&x()}),N(()=>{m.current&&(Y.current=m.current.ended,w.current=m.current.paused,I())});let ye=h(()=>{let l="";if(i==="URL")return f+l;if(i==="Upload")return u+l},[i,u,f,y]);return p(()=>{fe&&m.current&&v==="on-mount"&&setTimeout(()=>x(),50)},[]),p(()=>{m.current&&!c&&(m.current.volume=(M??0)/100)},[M]),O("video",{onClick:G,onMouseEnter:ue,onMouseLeave:ce,onMouseDown:pe,onMouseUp:de,src:ye,loop:A,ref:m,onSeeked:l=>R?.(l),onPause:l=>k?.(l),onPlay:l=>E?.(l),onEnded:l=>P?.(l),autoPlay:v==="on-mount",preload:v!=="on-mount"&&W?"metadata":"auto",poster:W?me:void 0,onLoadedData:()=>{m.current&&(m.current.currentTime<.3&&B((y??0)*.01),v==="on-mount"&&x())},controls:C,muted:S?!0:c,playsInline:g,style:{cursor:G?"pointer":"auto",width:"100%",height:"100%",borderRadius:ge,display:"block",objectFit:se,backgroundColor:le,objectPosition:"50% 50%"}})});D.displayName="Video";D.defaultProps={srcType:"URL",srcUrl:"https://assets.mixkit.co/videos/preview/mixkit-shining-sun-in-the-sky-surrounded-by-moving-clouds-31793-small.mp4",srcFile:"",posterEnabled:!1,controls:!1,playing:!0,loop:!0,muted:!0,playsinline:!0,restartOnEnter:!1,objectFit:"cover",backgroundColor:"rgba(0,0,0,0)",radius:0,volume:25,startTime:0};var ke=/[A-Z]{2,}|[A-Z][a-z]+|[a-z]+|[A-Z]|\d+/gu;function Ee(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Pe(e){return(e.match(ke)||[]).map(Ee).join(" ")}var ie=["cover","fill","contain","scale-down","none"];X(D,{srcType:{type:t.Enum,displaySegmentedControl:!0,title:"Source",options:["URL","Upload"]},srcUrl:{type:t.String,title:"URL",placeholder:"../example.mp4",hidden(e){return e.srcType==="Upload"},description:"Hosted video file URL. For YouTube, use the YouTube component."},srcFile:{type:t.File,title:"File",allowedFileTypes:["mp4","webm"],hidden(e){return e.srcType==="URL"}},playing:{type:t.Boolean,title:"Playing",enabledTitle:"Yes",disabledTitle:"No"},posterEnabled:{type:t.Boolean,title:"Poster",enabledTitle:"Yes",disabledTitle:"No"},poster:{type:t.Image,title:" ",hidden:({posterEnabled:e})=>!e},backgroundColor:{type:t.Color,title:"Background"},...K,startTime:{title:"Start Time",type:t.Number,min:0,max:100,step:.1,unit:"%"},loop:{type:t.Boolean,title:"Loop",enabledTitle:"Yes",disabledTitle:"No"},objectFit:{type:t.Enum,title:"Fit",options:ie,optionTitles:ie.map(Pe)},controls:{type:t.Boolean,title:"Controls",enabledTitle:"Show",disabledTitle:"Hide"},muted:{type:t.Boolean,title:"Muted",enabledTitle:"Yes",disabledTitle:"No"},volume:{type:t.Number,max:100,min:0,unit:"%",hidden:({muted:e})=>e},onEnd:{type:t.EventHandler},onSeeked:{type:t.EventHandler},onPause:{type:t.EventHandler},onPlay:{type:t.EventHandler},...z});export{ee as a,he as b,z as c,j as d,H as e,K as f,D as g};
//# sourceMappingURL=chunk-U3NXHPGB.mjs.map
